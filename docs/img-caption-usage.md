# 图片说明组件使用指南

## 概述

 `Img.astro` **默认显示长文本样式说明**，同时支持**短标签样式**。说明文字会自动从 `alt` 属性获取，并且可以通过 `caption` 属性来控制显示效果。

## 功能特性

- ✅ **默认显示**: 默认显示长文本样式说明
- ✅ **两种样式**: 长文本样式（long）和短标签样式（short）
- ✅ **高对比度**: 黑色半透明背景确保文字在任何图片上都清晰可读
- ✅ **自动获取**: 说明文字自动从 `alt` 属性获取
- ✅ **文字阴影**: 增强文字在各种背景下的可读性
- ✅ **暗色模式**: 完全支持暗色主题
- ✅ **响应式**:   在不同屏幕尺寸下都有良好表现
- ✅ **悬停效果**: 图片悬停时有动态效果
- ✅ **模糊效果**: 使用 backdrop-filter 增强视觉效果

## 使用方法

### 基本用法

```astro
import Img from "@/components/Img.astro";

<!-- 显示长文本样式说明（默认） -->
<Img src="图片路径" alt="图片描述" />

<!-- 不显示说明 -->
<Img src="图片路径" alt="图片描述" caption={false} />

<!-- 显示短标签样式说明 -->
<Img src="图片路径" alt="图片描述" caption="short" />
```

### 实际示例

```astro
<!-- 默认显示长文本样式说明 -->
<Img 
  src={`${IMAGES}/sunset.jpg`} 
  alt="海边日落 - 在海边拍摄的绚烂晚霞" 
/>

<!-- 不显示说明的图片 -->
<Img 
  src={`${IMAGES}/sunset.jpg`} 
  alt="美丽的日落景色" 
  caption={false}
/>

<!-- 短标签样式说明 -->
<Img 
  src={`${IMAGES}/sunset.jpg`} 
  alt="海边日落" 
  caption="short"
/>

<!-- 带自定义样式的图片 -->
<Img 
  src={`${IMAGES}/sunset.jpg`} 
  alt="海边日落" 
  caption="long"
  class="my-custom-image"
/>
```

## 属性说明

| 属性 | 类型 | 默认值 | 必需 | 说明 |
|------|------|--------|------|------|
| `src` | `string` | - | ✅ | 图片源地址 |
| `alt` | `string` | - | ✅ | 图片替代文字，也用作说明文字 |
| `caption` | `false \| 'long' \| 'short'` | `'long'` | ❌ | 说明显示模式 |
| `class` | `string` | - | ❌ | 自定义 CSS 类名 |
| `style` | `string` | - | ❌ | 内联样式 |

## 两种样式详解

### 长文本样式 (long) - 默认样式

**适用场景**:
- ✅ 较长的说明文字
- ✅ 需要醒目展示的信息
- ✅ 类似视频字幕的效果

**视觉特点**:
- 覆盖整个图片底部
- 黑色半透明背景条
- 文字左对齐
- 悬停时背景变深

### 短标签样式 (short)

**适用场景**:
- ✅ 简短的标题或标签
- ✅ 需要精致展示的信息
- ✅ 不想遮挡太多图片内容

**视觉特点**:
- 位于图片左下角
- 圆角矩形标签
- 简洁的标签设计
- 悬停时有上移效果

## 样式对比

| 特性 | 长文本样式 (long) | 短标签样式 (short) |
|------|-------------------|-------------------|
| 位置 | 图片底部全宽 | 图片左下角 |
| 适合文字长度 | 较长文字 | 简短标题 |
| 视觉冲击力 | 强 | 中等 |
| 图片遮挡程度 | 较多 | 较少 |
| 悬停效果 | 背景变深 | 上移+阴影 |

## 最佳实践

### 1. 选择合适的样式

```astro
<!-- 长文本样式：适合详细描述（默认） -->
<Img 
  src="landscape.jpg" 
  alt="桃花峪黄河岸边 - 黄河在这里拐了一个大弯" 
/>

<!-- 短标签样式：适合简短标题 -->
<Img 
  src="landscape.jpg" 
  alt="西流湖晨光" 
  caption="short"
/>
```

### 2. Alt 文字编写建议

**长文本样式**：可以使用较长的描述
```astro
<Img 
  alt="郑州四环非机动车道 - 宽敞的骑行道路，骑行体验很棒"
/>
```

**短标签样式**：建议使用简洁的标题
```astro
<Img 
  alt="西流湖晨光"
  caption="short"
/>
```

### 3. 何时不显示说明

**不显示说明的情况**:
- ❌ 装饰性图片
- ❌ 图标或按钮
- ❌ 内容已经很明显的图片

```astro
<Img 
  src="decorative-pattern.jpg" 
  alt="装饰图案" 
  caption={false}
/>
```

### 4. 保持一致性
在同一篇文章中，建议保持图片说明样式的一致性，或者根据内容类型有规律地使用不同样式。

## 自定义样式

如果需要自定义说明的样式，可以通过 CSS 覆盖默认样式：

```css
/* 自定义长文本样式 */
.my-custom-image .caption-bar .caption-text {
  background: rgba(0, 100, 200, 0.8);
  color: #ffffff;
  font-weight: bold;
}

/* 自定义短标签样式 */
.my-custom-image .caption-tag .caption-text {
  background: rgba(200, 0, 0, 0.9);
  border-radius: 8px;
  font-size: 0.9rem;
}

/* 自定义图片样式 */
.my-custom-image .img-main {
  border-radius: 16px;
  filter: brightness(1.1);
}
```

## 响应式行为

组件会根据屏幕尺寸自动调整：

- **桌面端**: 完整的字体大小和内边距
- **移动端**: 较小的字体和紧凑的内边距
- **短标签样式**: 在小屏幕上会调整位置和大小

## 迁移指南

如果你之前使用的是旧版本的 `Img` 组件，迁移非常简单：

```astro
<!-- 旧版本（现在会显示长文本样式说明） -->
<Img src="image.jpg" alt="描述" />

<!-- 如果不想显示说明 -->
<Img src="image.jpg" alt="描述" caption={false} />

<!-- 新版本（添加短标签样式说明） -->
<Img src="image.jpg" alt="描述" caption="short" />
```

**重要变更**: 现在默认会显示图片说明，如果你不想显示说明，需要显式设置 `caption={false}`。 